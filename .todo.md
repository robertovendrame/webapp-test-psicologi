# Piano di Lavoro â€“ Ilaria Tests

## âœ… COMPLETATO (v0.2)

- [x] Separazione JS/CSS in file esterni (`assets/app.js`, `assets/style.css`)
- [x] Generazione PDF client-side con html2pdf.js
- [x] Pulsante "Elimina paziente" con opzione conserva/elimina test
- [x] Fix navigazione tra pagine (completamento funzioni mancanti)
- [x] Refactor architettura e pulizia codebase
- [x] Commit e push dei cambiamenti

---

## ðŸ”„ PROSSIMI PASSI (PrioritÃ )

### ðŸ¥‡ ALTA PRIORITÃ€ (AffidabilitÃ  & UsabilitÃ )

#### 1. **Unit Test (Jest)** 
- [ ] Setup Jest e configurazione
- [ ] Test `computeScore()` â€” verifica calcolo punteggi
- [ ] Test `formatDate()` â€” validazione formattazione date
- [ ] Test storage helpers (`loadPatients()`, `savePatients()`, `loadResults()`)
- [ ] Test `findPatientById()` e ricerca
- **Benefit:** Previene regressioni, garantisce integritÃ  dati psicologici
- **Tempo:** ~1-2 ore

#### 2. **AccessibilitÃ  (WCAG 2.1 AA)**
- [ ] Aggiungere `aria-label` su tutti i pulsanti senza testo descrittivo
- [ ] Aggiungere `role="dialog"` e `aria-labelledby` nel modal
- [ ] Aggiungere `aria-hidden="true"` su icone decorative
- [ ] Completare focus-trap nel modal (ESC per chiudere)
- [ ] Aggiungere `tabindex` ordinato nelle form
- [ ] Testare con screen reader (NVDA su Windows)
- **Benefit:** Conforme L. 4/2004 (Italia), usabile per utenti con disabilitÃ 
- **Tempo:** ~1-1.5 ore

#### 3. **README.md â€“ Guida Utente**
- [ ] Istruzioni setup per iPad (localhost)
- [ ] Feature overview con screenshot
- [ ] Come usare: nuovo test, eliminare paziente, scaricare PDF
- [ ] PIN di protezione (come impostare/usare)
- [ ] Export/Import dati (backup e ripristino)
- [ ] Troubleshooting FAQ
- **Benefit:** Utente (psicologo) capisce come usare, onboarding facile
- **Tempo:** ~45 min

---

### ðŸ¥ˆ MEDIA PRIORITÃ€ (Esperienza & Performance)

#### 4. **Miglioramenti UX**
- [ ] Completare undo toast per eliminazioni (timeout 5sec + pulsante Undo)
- [ ] Undo per: eliminazione test, eliminazione paziente, modifica paziente
- [ ] Validazione form piÃ¹ robusta (email, data, input required)
- [ ] Loading states durante salvataggio dati
- **Tempo:** ~1 ora

#### 5. **Ottimizzazione Performance**
- [ ] Minificazione `assets/app.js` (~40% riduzione gzip)
- [ ] Minificazione `assets/style.css` (~30% riduzione gzip)
- [ ] Lazy-load html2pdf.js (carica solo quando PDF richiesto)
- [ ] Service Worker opzionale per offline (avanzato)
- **Benefit:** Caricamento piÃ¹ veloce su iPad, minore consumo banda
- **Tempo:** ~30-45 min

---

### ðŸ¥‰ BASSA PRIORITÃ€ (Nice-to-have)

#### 6. **Cifratura Opzionale**
- [ ] Integrare TweetNaCl.js per crittografia client-side
- [ ] Opzione "Cripta dati" nelle impostazioni
- [ ] Passphrase memorizzato solo in session (non localStorage)
- **Nota:** Complicato, valuta reale necessitÃ  (dati giÃ  locali su iPad)
- **Tempo:** ~1-2 ore (opzionale)

#### 7. **Dark Mode**
- [ ] Implementare toggle tema scuro
- [ ] Usare `prefers-color-scheme` media query
- [ ] Salvare preferenza in localStorage
- **Tempo:** ~30 min

#### 8. **Deploy & CI/CD**
- [ ] Workflow GitHub Actions per test automatici
- [ ] Deploy opzionale su GitHub Pages
- [ ] Versioning e release notes automatizzati
- **Tempo:** ~1 ora (opzionale)

---

## ðŸ“Š Matrice PrioritÃ 

| Task | Impact | Effort | Priority |
|------|--------|--------|----------|
| Unit Test | ðŸŸ¢ Alto | ðŸ”´ 2h | ðŸ¥‡ ALTA |
| AccessibilitÃ  | ðŸŸ¢ Alto | ðŸŸ¡ 1.5h | ðŸ¥‡ ALTA |
| README | ðŸŸ¢ Alto | ðŸŸ¡ 45min | ðŸ¥‡ ALTA |
| UX improvements | ðŸŸ¡ Medio | ðŸŸ¡ 1h | ðŸ¥ˆ MEDIA |
| Performance | ðŸŸ¡ Medio | ðŸŸ¢ 30min | ðŸ¥ˆ MEDIA |
| Cifratura | ðŸŸ¢ Alto | ðŸ”´ 2h | ðŸ¥‰ BASSA |
| Dark Mode | ðŸŸ¡ Medio | ðŸŸ¢ 30min | ðŸ¥‰ BASSA |
| CI/CD | ðŸŸ¡ Medio | ðŸŸ¡ 1h | ðŸ¥‰ BASSA |

---

## ðŸŽ¯ Suggerimento Esecuzione

**Se tempo limitato (< 4 ore):**
1. Unit Test (1-2h) â†’ Garantisce affidabilitÃ 
2. README (45min) â†’ Utente capisce come usare
3. AccessibilitÃ  aria-labels (30min) â†’ WCAG compliance base

**Se tempo abbondante (> 6 ore):**
1. Unit Test (1-2h)
2. README (45min)
3. AccessibilitÃ  completa (1-1.5h)
4. Performance + minify (30-45min)
5. UX improvements / undo toast (1h)

---

## ðŸ“Œ Note

- I passi sono **indipendenti** e possono essere eseguiti in parallelo
- Ogni task dovrebbe avere un **commit separato** con messaggio descrittivo
- Test vanno eseguiti **localmente** su `http://localhost:8000` prima di pushare
- Documentazione deve rimanere **aggiornata** con ogni nuova feature

---

**Status:** In Progress ðŸš€
**Ultimo aggiornamento:** 2025-11-30
